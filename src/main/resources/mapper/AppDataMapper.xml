<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.runplc.mapper.AppDataMapper">

    <resultMap id="AppDataMap" type="com.runplc.entity.AppData">
        <id property="id" column="id"/>
        <result property="dataKey" column="data_key"/>
        <result property="dataValue" column="data_value"/>
        <result property="dataType" column="data_type"/>
        <result property="createdAt" column="created_at"/>
    </resultMap>

    <insert id="insert" parameterType="com.runplc.entity.AppData" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO app_data (data_key, data_value, data_type)
        VALUES (#{dataKey}, #{dataValue}, #{dataType})
    </insert>

    <delete id="deleteById" parameterType="int">
        DELETE FROM app_data WHERE id = #{id}
    </delete>

    <update id="update" parameterType="com.runplc.entity.AppData">
        UPDATE app_data
        SET data_key = #{dataKey},
            data_value = #{dataValue},
            data_type = #{dataType}
        WHERE id = #{id}
    </update>

    <select id="selectById" parameterType="int" resultMap="AppDataMap">
        SELECT * FROM app_data WHERE id = #{id}
    </select>

    <select id="selectAll" resultMap="AppDataMap">
        SELECT * FROM app_data ORDER BY created_at DESC
    </select>

    <select id="selectByDataKey" parameterType="string" resultMap="AppDataMap">
        SELECT * FROM app_data WHERE data_key = #{dataKey}
    </select>

</mapper>